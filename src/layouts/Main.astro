---
import { getAbsoluteLocaleUrl } from 'astro:i18n'
import { DesktopNav, MobileNav } from '$lib/components/nav'
import ThemeController from '$lib/components/theme'
import RootLayout from "./Root.astro"
---

<RootLayout>
    <div class="h-screen space md:py-6 md:px-4">
        <div class="stars"></div>
            
        <div class="flex h-full gap-x-2 *:border *:transition *:bg-background/60">
            <aside class="hover:border-primary transition flex flex-col h-full flex-1 md:max-w-md">
                <header class="py-2 px-4 flex md:hidden justify-end">
                    <MobileNav
                        lang={Astro.currentLocale || 'en'}
                        currentPath={Astro.url.pathname}
                        hrefs={[
                            getAbsoluteLocaleUrl(Astro.currentLocale || 'en', ''),
                            getAbsoluteLocaleUrl(Astro.currentLocale || 'en', 'projects'),
                            getAbsoluteLocaleUrl(Astro.currentLocale || 'en', 'blog'),
                        ]}
                        client:load
                    />
                </header>
                <main>
                </main>
            </aside>

            <div class= "hover:border-primary flex-col flex-1 hidden md:flex">
                <header class="flex justify-between items-center py-2 pl-4 pr-2">
                    <DesktopNav/>
                    <aside >
                        <ThemeController/>
                    </aside>
                </header>
                
                <main class="flex-1">
                    <slot />
                </main>
            </div>
            
        </div>
    </div>
</RootLayout>