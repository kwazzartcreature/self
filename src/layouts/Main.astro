---
import RootLayout from "./Root.astro"
import ThemeController from '$lib/components/ThemeController.astro'
import { getAbsoluteLocaleUrl } from 'astro:i18n'

const checkPath = (path: string) => {
    return getAbsoluteLocaleUrl(Astro.currentLocale || 'en', Astro.url.pathname) === getAbsoluteLocaleUrl(Astro.currentLocale || 'en', path)
}
---

<RootLayout>
    <div class="h-screen space md:py-6 md:px-4">
        <div class="stars"></div>
            
        <div class="flex h-full gap-x-2 *:border *:transition *:bg-background/60">
            <aside class="hover:border-primary transition flex flex-col h-full flex-1 md:max-w-md">
                <header class="py-2 px-4 flex md:hidden justify-end">head</header>
                <main>
                </main>
            </aside>

            <div class= "hover:border-primary flex-col flex-1 hidden md:flex">
                <header class="flex justify-between items-center py-2 pl-4 pr-2">
                    <nav>
                        <ul class="flex gap-x-4 text-lg">
                            <li class:list={
                                [
                                    "hover:underline", 
                                    {"underline": checkPath('')}
                                ]
                            }>
                                <a href={getAbsoluteLocaleUrl(Astro.currentLocale || 'en', '')}>about</a>
                            </li>
                            <li class:list={
                                [
                                    "hover:underline", 
                                    {"underline": checkPath('projects')}
                                ]
                            }>
                                <a href={getAbsoluteLocaleUrl(Astro.currentLocale || 'en', 'projects')}>projects</a>
                            </li>
                            <li class:list={
                                [
                                    "hover:underline", 
                                    {"underline": checkPath('blog')}
                                ]
                            }>
                                <a href={getAbsoluteLocaleUrl(Astro.currentLocale || 'en', 'blog')}>blog</a>
                            </li>
                        </ul>
                    </nav>
                    
                    <aside>
                        <ThemeController/>
                    </aside>
                </header>
                
                <main class="flex-1">
                    <slot />
                </main>
            </div>
            
        </div>
    </div>
</RootLayout>